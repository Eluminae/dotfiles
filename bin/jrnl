#!/bin/bash

journal_folder_path="$HOME/Documents/Journal"

tmp_file_path=$(mktemp)

$EDITOR "$tmp_file_path"

[ 0 -ne $? ] && exit 1

file_path="$journal_folder_path/$(date "+%Y-%m-%d-%H-%M-%S") $(head -1 "$tmp_file_path").txt"

tail -n +2 "$tmp_file_path" >> "$file_path"
echo "$file_path"
rm "$tmp_file_path"

read -p "tags: " tags
tmsu tag --tags="$tags" "$file_path"
